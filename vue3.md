[TOC]



# vue3 ：6.11 -15：13

## TypeScript推出的目的

> ts的推出是为了解决JavaScript类型检测是吗，在编译时即可对错误排解
>
>
>
>是的，TypeScript的推出主要是为了解决JavaScript在开发过程中的一些缺点，其中包括类型检测和编译时错误排查。
>
>JavaScript是一种弱类型的语言，它允许灵活的数据类型转换和动态属性修改，但也容易导致类型错误和运行时错误。这在大型项目或团队协作中可能会带来一些问题，因为开发者很难在编写代码时发现和预防这些错误。
>
>TypeScript是JavaScript的一个超集，它添加了静态类型系统和其他语言特性，可以在编译时检测类型错误和潜在的问题。通过在代码中定义变量的类型、函数参数的类型以及其他数据结构的类型，TypeScript可以在编译过程中提前发现错误，并给出相应的警告或错误信息。这样可以帮助开发者更早地发现和解决潜在的问题，提高代码的质量和可维护性。
>
>另外，TypeScript还支持最新的ECMAScript标准，并提供了一些其他的语言特性，如类、模块化、接口、泛型等，这些特性可以提高代码的可读性、可重用性和可扩展性。
>
>总而言之，TypeScript的推出主要是为了在开发过程中提供更好的类型检测和编译时错误排查，以提高代码的质量和开发效率。它允许开发者在编写代码时发现和解决错误，并提供了更丰富的语言特性来支持大型项目和复杂的应用开发。



## 系统学习vue3 + TypeScript

![image-20230611153210571](vue3.assets/image-20230611153210571.png)



![image-20230611153356437](vue3.assets/image-20230611153356437.png)

![image-20230611153507950](vue3.assets/image-20230611153507950.png)



## vue3 变化

![image-20230611155319434](vue3.assets/image-20230611155319434.png)



![image-20230611155354223](vue3.assets/image-20230611155354223.png)

![image-20230611155440188](vue3.assets/image-20230611155440188.png)



## 如何使用vue

![image-20230611155605374](vue3.assets/image-20230611155605374.png)



## CDN

>
>
>CDN是内容分发网络（Content Delivery Network）的缩写。它是一种用于提供高性能、可扩展和可靠内容传输的网络架构。
>
>在传统的网络架构中，当用户请求访问某个网站或应用程序时，服务器会直接响应请求并返回相应的内容。这可能会导致服务器的负载过大，响应时间延迟，尤其在全球范围内的用户访问时更为明显。
>
>CDN通过在全球各地部署大量的边缘节点（Edge Nodes）来解决这个问题。这些边缘节点位于离用户更近的地理位置，它们保存了源服务器上的内容的副本。当用户请求访问某个资源时，CDN会自动将请求路由到离用户最近的边缘节点上，边缘节点直接提供相应的内容，从而实现更快的响应时间和更低的延迟。
>
>CDN的工作原理如下：
>1. 静态内容缓存：CDN会缓存静态资源（例如图片、CSS、JavaScript文件等），以便将内容快速交付给用户。
>2. 负载均衡：CDN使用负载均衡算法将用户请求分配到最优的边缘节点上，以实现更好的性能和可伸缩性。
>3. 动态内容加速：有些CDN还可以缓存和加速动态内容，通过与源服务器进行实时通信，将最新的内容缓存到边缘节点，从而加速动态内容的传输。
>
>CDN的优势包括：
>1. 加速内容传输：由于边缘节点分布广泛，用户可以从最近的节点获取内容，从而减少网络延迟和响应时间。
>2. 减轻源服务器负载：CDN可以分担源服务器的负载，通过将请求路由到边缘节点处理，减少了源服务器的压力。
>3. 提高可靠性：CDN采用冗余部署和智能路由，可以提供更高的可靠性和容错能力。
>4. 全球覆盖：CDN的边缘节点分布在全球各地，可以为全球用户提供更好的访问体验。
>
>因此，CDN是一种通过将内容分发到全球边缘节点来提供高性能、可靠的内容传输的网络架构，可用于加速网站、应用程序和其他在线内容的传输。





## 声明式编程和命令式编程

>
>
>声明式编程和命令式编程是两种不同的编程范式，用于描述解决问题的方法和思维方式。
>
>1. 声明式编程：
>   - 声明式编程更关注于"做什么"，而不是"如何做"。
>   - 在声明式编程中，你描述了要达到的目标或所需的结果，而不需要详细指定具体的实现步骤。
>   - 声明式编程更注重描述问题的本质，以及通过定义问题和规则来找到解决方案。
>   - 常见的声明式编程语言和工具包括SQL、HTML、CSS、函数式编程语言（如Haskell）和一些声明式UI框架（如React、Vue）。
>
>2. 命令式编程：
>   - 命令式编程更关注于"如何做"，以及解决问题的具体步骤和控制流程。
>   - 在命令式编程中，你通过编写一系列明确的指令和步骤来描述如何实现结果。
>   - 命令式编程更注重算法、控制结构和可变状态。
>   - 常见的命令式编程语言和工具包括C、Java、Python、JavaScript（特别是面向对象编程）和一些命令式编程框架（如jQuery）。
>
>原生和框架是指开发应用程序时使用的工具和技术的不同。
>
>1. 原生开发：
>   - 原生开发是指使用底层平台或语言提供的原始功能和API来开发应用程序。
>   - 在原生开发中，你直接使用底层语言或平台的特性，编写自己的代码来实现应用程序的各个方面。
>   - 原生开发通常提供了更高的灵活性和自由度，但也需要更多的编码和维护工作。
>   - 例如，使用原生JavaScript编写Web应用程序，或使用Java编写Android应用程序。
>
>2. 框架开发：
>   - 框架开发是指使用特定的软件框架或库来构建应用程序。
>   - 在框架开发中，你使用框架提供的抽象层、组件和工具来简化开发过程，并提供一些预定义的模式和结构。
>   - 框架开发通常提供了更高的开发效率和可维护性，但可能会对开发者的灵活性和自由度有一定限制。
>   - 例如，使用Vue或React等前端框架来构建Web应用程序，或使用Spring框架来构建Java应用程序。
>
>在实际开发中，可以根据具体需求和项目要求
>
>选择使用声明式或命令式编程范式，以及原生开发或框架开发。这取决于开发者的偏好、项目的规模和复杂性，以及所需的时间和资源。



## Vue属于声明式编程

>
>
>Vue属于声明式编程的原因是因为Vue的核心思想是通过声明式的模板语法来描述应用程序的状态和界面，而不是直接操作DOM或编写大量的命令式逻辑。
>
>在Vue中，你可以使用Vue的模板语法（基于HTML）来声明性地描述你的视图结构和数据绑定。你可以简单地将Vue实例中的数据绑定到模板中的相应位置，然后Vue会自动处理数据的响应式更新以及视图的更新。
>
>通过使用Vue的声明式模板语法，你只需要关注描述应用程序的状态和结构，而不需要显式地编写诸如操作DOM元素、监听事件、手动更新视图等命令式逻辑。Vue会根据数据的变化自动更新视图，使你的代码更加简洁、可读性更强、可维护性更高。
>
>此外，Vue还提供了许多其他声明式的特性，如计算属性、侦听器、过滤器等，使你能够以声明性的方式处理应用程序的逻辑和数据转换。
>
>总结起来，Vue属于声明式编程，因为它通过声明式的模板语法和其他声明式特性，让你更专注于描述应用程序的状态和结构，而不是直接编写命令式的逻辑和DOM操作。这样可以提高开发效率、降低出错风险，并且使代码更易于理解和维护。



## 声明式和命令式

![image-20230611180934825](vue3.assets/image-20230611180934825.png)



## mvc 和 mvvm

>MVC（Model-View-Controller）和 MVVM（Model-View-ViewModel）是两种常见的软件架构模式，用于组织和管理应用程序的代码和逻辑。
>
>1. MVC（Model-View-Controller）模式：
>   - MVC模式将应用程序分为三个主要部分：模型（Model）、视图（View）和控制器（Controller）。
>   - 模型（Model）表示应用程序的数据和业务逻辑。
>   - 视图（View）负责显示模型的内容，并与用户进行交互。
>   - 控制器（Controller）处理用户输入，并根据输入更新模型和视图之间的关系。
>   - MVC模式的核心思想是将应用程序的数据、用户界面和业务逻辑分离，以便更好地管理和维护应用程序的不同方面。
>
>2. MVVM（Model-View-ViewModel）模式：
>   - MVVM模式是建立在MVC模式之上的一种衍生模式。
>   - MVVM模式将应用程序分为三个主要部分：模型（Model）、视图（View）和视图模型（ViewModel）。
>   - 模型（Model）表示应用程序的数据和业务逻辑，与MVC模式中的模型相同。
>   - 视图（View）负责显示模型的内容，并与用户进行交互，与MVC模式中的视图相同。
>   - 视图模型（ViewModel）是连接模型和视图的中间层，负责将模型的数据转换为视图所需的格式，并处理视图的用户交互逻辑。
>   - MVVM模式的核心思想是通过视图模型来解耦视图和模型之间的关系，实现数据的双向绑定，使视图能够自动更新，并且视图和模型的变化相互独立。
>
>总结：
>- MVC模式将应用程序分为模型、视图和控制器，通过分离关注点来管理应用程序的不同方面。
>- MVVM模式在MVC模式的基础上引入了视图模型，通过数据绑定和双向更新实现视图和模型的解耦和自动更新。
>- MVC适合传统的Web开发和较为简单的应用程序，而MVVM适合复杂的前端应用程序，尤其是需要大量数据绑定和视图逻辑的情况。



## vue和mvmm

>MVVM（Model-View-ViewModel）是一种软件架构模式，而Vue是一个前端框架，可以用于实现MVVM模式。
>
>MVVM模式将应用程序分为三个主要部分：模型（Model）、视图（View）和视图模型（ViewModel）。模型代表应用程序的数据和业务逻辑，视图负责显示模型的内容并与用户进行交互，而视图模型是连接模型和视图的中间层，负责管理视图的状态、提供数据绑定和处理用户交互逻辑。
>
>Vue框架借鉴了MVVM模式的思想，并提供了一套工具和机制来实现MVVM架构。在Vue中，组件被用作视图层，模板语法用于描述视图的结构和数据绑定，而Vue实例则充当了视图模型的角色。
>
>具体来说，Vue中的组件可以定义模板、数据、计算属性、观察者等，用于描述视图的外观和行为。Vue通过响应式数据绑定系统，将视图和数据建立了关联，当数据发生变化时，视图会自动更新。同时，Vue提供了一系列的指令、事件处理和生命周期钩子等功能，用于处理用户交互和视图逻辑。
>
>因此，Vue可以被视为实现MVVM模式的一种工具或框架。它提供了对视图和数据之间的双向绑定、组件化开发、状态管理等方面的支持，使开发者能够更容易地构建符合MVVM架构的前端应用程序。



![image-20230611200219087](vue3.assets/image-20230611200219087.png)



![image-20230611200319481](vue3.assets/image-20230611200319481.png)





## vue的响应式系统劫持

>
>
>在Vue中，响应式系统是指Vue如何追踪数据的变化并自动更新相关的视图。Vue的响应式系统通过劫持（或拦截）对象的属性访问、修改和依赖追踪来实现。
>
>当你将一个普通的JavaScript对象传递给Vue的数据选项（如`data`、`computed`等），Vue会使用`Object.defineProperty`或类似的机制劫持对象的属性。这样，当你修改这些属性时，Vue就能够捕捉到变化并通知相关的视图进行更新。
>
>具体来说，劫持的过程包括以下几个步骤：
>
>1. 初始化：在Vue实例化过程中，Vue会遍历定义的数据选项，对每个属性调用`Object.defineProperty`来定义getter和setter。
>2. Getter：当访问被劫持的属性时，Vue会执行定义的getter函数，并进行依赖收集，将当前的Watcher（观察者）添加到该属性的依赖列表中。
>3. Setter：当修改被劫持的属性时，Vue会执行定义的setter函数，触发依赖列表中的所有Watcher进行更新。
>4. 依赖追踪：在Getter过程中，Vue会收集当前活动的Watcher，并将其添加到依赖列表中。这样，当被依赖的属性发生变化时，Vue就可以通知相应的Watcher进行更新。
>
>通过劫持对象的属性访问和修改，Vue能够跟踪数据的变化，并在数据发生变化时更新相关的视图。这种机制使得Vue的数据驱动视图的特性成为可能，开发者无需手动操作DOM，而是通过操作数据，Vue会自动更新视图。
>
>需要注意的是，Vue的响应式系统只能追踪通过Vue提供的API定义的响应式数据。对于直接添加或删除属性、修改数组索引或长度等操作，Vue无法自动检测到变化。在这些情况下，你需要使用Vue提供的特定方法（如`Vue.set`、`Vue.delete`）或通过重新赋值来触发更新。



# 1_1:55-2：10 （ 教学 - 以下载压缩包形式下载vue-next源码，该如何配置依赖



## package.json

>当您从官方下载Vue后，使用Vue时需要下载依赖包的原因是因为Vue本身并不包含所有的功能和依赖项，它只是一个轻量级的框架或库。
>
>Vue框架提供了核心的功能，如Vue实例、组件系统、响应式数据绑定等，但它还需要其他的包来支持一些特定的功能或功能模块，如路由、状态管理、HTTP请求等。
>
>通过下载依赖包，您可以根据项目的需求选择并安装所需的功能模块。这样做的好处是，您可以根据具体项目的需求来精确地控制您的项目依赖，只安装和使用您需要的功能，避免不必要的冗余和资源浪费。
>
>下载依赖包的过程通常通过包管理器（如npm、Yarn等）来完成。您可以使用命令行工具进入项目目录，并运行相应的命令来安装所需的依赖包。这些命令会根据项目的配置文件（如package.json）中列出的依赖项来下载并安装依赖包。
>
>总结来说，下载依赖包是为了获取和安装Vue框架的扩展功能和功能模块，以满足项目的具体需求。这样，您可以根据需要选择和管理您的项目依赖，并使用Vue框架的完整功能来构建应用程序。



## pnpm和yarm

>
>
>`pnpm`和`yarn`是两个不同的包管理工具，它们之间有一些相似之处，但也有一些区别。
>
>1. **相似之处**：
>   - 安装依赖：`pnpm`和`yarn`都可以用来安装项目的依赖包，并且都支持并行下载和缓存管理，可以提高安装速度。
>   - 锁定版本：两者都能生成并管理锁定文件（`pnpm-lock.yaml`和`yarn.lock`），用于确保在不同环境中安装的依赖版本一致。
>   - 并发安装：`pnpm`和`yarn`都支持并发安装，可以同时下载多个依赖包，提高安装效率。
>
>2. **区别**：
>   - **安装策略**：`pnpm`使用一种称为“符号链接”（Symlink）的策略来安装依赖，它在全局缓存中只存储一个依赖的副本，并使用符号链接将其链接到每个项目中。相比之下，`yarn`会为每个项目独立地下载和存储依赖包。
>   - **空间占用**：由于`pnpm`的安装策略，它通常比`yarn`占用更少的磁盘空间，因为相同的依赖只需存储一次。
>   - **包管理器的生态系统**：`pnpm`和`yarn`都有自己的生态系统，有一些包是特定于其中一个包管理器的。一些包可能在`yarn`中更常见，而另一些包可能在`pnpm`中更常见。
>   - **社区支持和广泛使用程度**：`yarn`是由Facebook开发的，并且在JavaScript社区中广泛使用，有较大的社区支持和文档资源。相比之下，`pnpm`是一个相对较新的包管理工具，它的使用和支持程度可能相对较低。
>
>综上所述，`pnpm`和`yarn`都是用于管理项目依赖的工具，它们在安装策略、空间占用和生态系统等方面有所不同。选择使用哪个工具取决于个人偏好、项目需求和社区支持等因素。



## 依赖包和api接口

>
>
>依赖包（Dependencies）和 API 接口（Application Programming Interface）是在软件开发中两个不同概念的组成部分。
>
>**依赖包（Dependencies）**是指在开发过程中使用的外部库、框架或模块，用于提供特定的功能、工具或资源。依赖包通常是由第三方开发者或组织创建和维护的，它们提供了预先编写好的代码和功能，供开发人员在自己的应用程序中使用。开发人员通过在项目中引入依赖包，可以直接使用其中的功能，而无需从头开始编写。依赖包的选择和使用可以帮助开发人员提高开发效率、减少重复劳动，并且可以借助社区维护的依赖包来获取更多的功能和特性。
>
>**API 接口（Application Programming Interface）**是一组定义了软件组件之间交互的规范和约定。API 接口定义了组件之间的通信协议、数据格式、方法和参数等，允许不同的软件组件之间进行交互和数据传递。API 接口可以是在同一应用程序内部的组件之间的接口，也可以是用于不同应用程序之间的通信接口。通过使用 API 接口，开发人员可以将不同的软件组件集成在一起，实现功能的共享和交互。
>
>依赖包和 API 接口之间的关系是：
>
>- 依赖包通常提供了一些封装好的函数、类、方法或组件，通过这些封装好的功能可以方便地调用和使用 API 接口。依赖包可以包含实现了特定 API 接口的代码，通过这些代码开发人员可以直接使用 API 接口提供的功能。
>- API 接口可以作为依赖包的一部分提供给开发人员使用。开发人员在使用依赖包时，可以通过 API 接口来调用和访问特定的功能和服务。
>
>总的来说，依赖包提供了具体实现的代码和工具，而 API 接口定义了不同组件之间的交互规范。开发人员可以通过使用依赖包中的代码来调用和使用 API 接口提供的功能。依赖包和 API 接口的结合使用可以帮助开发人员快速构建应用程序，实现功能的复用和集成。



### 依赖包用pnpm install指令下载后，会被放在哪个文件夹中

>
>
>当使用 `pnpm install` 命令下载依赖包时，它们会被放置在项目根目录下的 `node_modules` 文件夹中。这是 `pnpm` 默认的依赖包安装目录。
>
>`node_modules` 文件夹是用于存放项目依赖包的目录，其中每个依赖包通常会有自己的文件夹，以便管理和组织。在 `node_modules` 文件夹中，每个依赖包会有其自己的文件结构，其中包含了该依赖包的源代码、资源文件和其他所需的文件。
>
>在安装依赖包时，`pnpm` 会根据项目中的 `package.json` 文件中的依赖项列表（`dependencies`、`devDependencies` 等）确定要安装的依赖包及其版本。然后，它会从 `npm` 仓库（或其他配置的源）下载相应的依赖包，并将它们放置在 `node_modules` 文件夹中。
>
>请注意，为了避免将大量的依赖包文件提交到代码版本控制系统中，通常会在项目中添加一个 `.gitignore` 文件，并将 `node_modules` 文件夹添加到忽略列表中，以便在提交代码时排除依赖包文件。这样，其他开发人员在克隆项目时可以使用 `pnpm install` 命令根据 `package.json` 中的依赖列表自动下载依赖包。



### yarm dev是什么意思



>`yarn dev` 是一条常见的命令，通常用于在开发过程中启动项目的开发服务器或构建过程。它是使用 Yarn 包管理器执行的命令。
>
>具体的含义和行为可能因项目的不同而异，因为 `dev` 是一个自定义的脚本命令，它可以在项目的 `package.json` 文件中定义。一般来说，`dev` 脚本用于启动开发环境，并且会执行一系列的操作，例如编译代码、启动本地服务器、监听文件变化等。
>
>在项目的 `package.json` 文件中，可以看到一个 `scripts` 字段，其中包含了各种命令和脚本的定义。例如：
>
>```json
>"scripts": {
>  "dev": "yarn build && yarn serve",
>  "build": "webpack",
>  "serve": "node server.js"
>}
>```
>
>在这个例子中，`yarn dev` 命令执行了 `yarn build` 和 `yarn serve` 这两个命令，分别用于构建项目和启动服务器。具体的操作取决于项目的配置和需要。
>
>总之，`yarn dev` 是一个习惯上用于开发过程中的命令，它执行了一系列开发相关的操作，以提供一个方便的开发环境。具体的行为和操作步骤取决于项目的配置和脚本定义。



### 使用yarn dev 还是 pnpm dev呢

>使用 `yarn dev` 还是 `pnpm dev` 取决于您在项目中选择使用哪个包管理工具。
>
>如果您选择使用 Yarn 作为包管理工具，那么应该使用 `yarn dev` 命令来执行项目的开发过程。类似地，如果您选择使用 pnpm 作为包管理工具，则应使用 `pnpm dev` 命令。
>
>Yarn 和 pnpm 都是常见的包管理工具，用于管理项目的依赖项和执行各种脚本。它们有着类似的功能，但有一些细微的差异。
>
>- Yarn：Yarn 是由 Facebook 创建的包管理工具，它具有强大的性能和稳定性，可以并行下载和安装依赖项，并具有一些附加功能（如离线模式、缓存管理等）。
>- pnpm：pnpm 是另一个流行的包管理工具，它专注于解决包管理过程中的磁盘空间占用问题。它使用硬链接和符号链接来共享依赖项，从而显著减少了磁盘空间的使用量。
>
>选择使用哪个包管理工具取决于个人偏好、项目需求以及团队的共识。无论选择使用哪个工具，您需要在项目中正确配置和使用相应的命令。
>
>所以，请根据您在项目中选择使用的包管理工具，使用相应的命令（`yarn dev` 或 `pnpm dev`）来执行项目的开发过程。
>
>



### 下载了vue3源码， 使用pnpm install的作用

>
>
>使用 `pnpm install` 命令对 Vue 3 源码进行安装时，`pnpm` 包管理器会根据 `package.json` 文件中的依赖项配置，下载并安装项目所需的所有依赖包。
>
>`pnpm` 是一种快速、节省磁盘空间的包管理工具，它使用硬链接和符号链接来共享依赖项，减少了磁盘空间的使用量。与传统的包管理工具（如 npm 或 Yarn）不同，`pnpm` 在全局范围内只安装每个依赖项的单个副本，而不是为每个项目都复制一份依赖项。这样可以显著减少磁盘空间的占用，并加快依赖项的安装速度。
>
>当您运行 `pnpm install` 命令时，`pnpm` 会检查项目的 `package.json` 文件，找到并下载所有声明的依赖项。它会从公共的依赖项存储库（如 npm 存储库）获取依赖项的压缩包，并将其解压缩到项目的 `node_modules` 目录中。
>
>安装完成后，您可以在项目中使用所需的依赖项进行开发、构建或运行。`pnpm` 会自动处理依赖项之间的版本冲突和依赖关系解析，确保项目的依赖项正确安装和运行。
>
>总结来说，通过运行 `pnpm install` 命令，您可以使用 `pnpm` 包管理器下载和安装 Vue 3 源码所需的所有依赖项，为后续的开发和构建过程做好准备。



## vue源码实现过程

![image-20230611231259042](vue3.assets/image-20230611231259042.png)

[调试代码](https://juejin.cn/post/7158458795234951182)





